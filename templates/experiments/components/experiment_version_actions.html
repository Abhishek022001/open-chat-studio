<div class="flex flex-row gap-1">
  {% if record.working_version_id %}
    {% if record.is_archived %}
      <button class="btn btn-sm btn-outline btn-primary" disabled>
        <i class="fas fa-comment"></i>
      </button>
    {% else %}
      <form method="post" action="{% url 'experiments:start_authed_web_session' team_slug=team.slug experiment_id=record.working_version_id version_number=record.version_number %}" class="inline">
        {% csrf_token %}
        <div class="tooltip" data-tip="Start web chat with v{{ record.version_number }}">

          <button type="submit" class="btn btn-sm btn-outline btn-primary">
            <i class="fas fa-comment"></i>
          </button>
        </div>
      </form>
    {% endif %}
    <button class="btn btn-sm btn-outline btn-primary"
            hx-get="{% url 'experiments:experiment-version-details' team_slug=team.slug experiment_id=record.working_version_id version_number=record.version_number %}"
            hx-target="#modal-content"
            hx-trigger="click"
            onclick="document.querySelector('#versionDetailsModal').showModal();">
      View Details
    </button>
    <input type="hidden" id="api-url-{{ record.version_number }}" value="{{record.api_url }}">
    <button class="btn btn-ghost btn-sm no-animation !normal-case flex items-center" onclick="SiteJS.app.copyToClipboard(this, 'api-url-{{ record.version_number }}')" title="Copy to clipboard">
      <i class="fa-solid fa-link"></i> API <i class="fa-regular fa-copy fa-sm pg-text-muted"></i>
    </button>
  {% else %}
    {% if record.is_editable %}
      {% include 'experiments/create_version_button.html' with experiment=record %}
    {% endif %}
  {% endif %}
</div>
