{% with linked_tools=object.get_tool_names %}
    <div class="m-5">
        <select id="tool-select" name="tools[]" multiple placeholder="Select a tool..." autocomplete="off">
            {% for tool_name, display_name in available_tools %}
                <option value="{{ tool_name }}" {% if tool_name in linked_tools %}selected{% endif %}>{{ display_name }}</option>
            {% endfor %}
        </select>
    </div>
{% endwith %}

<script>
    element = document.getElementById('tool-select');
    let control = new TomSelect(element, {
        maxItems: null,
    });
</script>