<div class="flex flex-row gap-1">
    {% if not record.is_archived %}
        <form method="post" action="{% url 'experiments:start_authed_web_session' record.team.slug record.id record.get_working_version.version_number %}" class="inline">
            {% csrf_token %}
            <button type="submit" class="btn btn-sm" title="New Session">
                <i class="fas fa-comment"></i>
            </button>
        </form>
        <a class="btn btn-sm"
           href="{% url 'experiments:edit' record.team.slug record.id %}" title="Edit">
            <i class="fa-solid fa-pencil"></i>
        </a>
    {% else %}
        <button class="btn btn-sm btn-outline btn-primary"
                hx-get="{% url 'experiments:experiment-details' team_slug=team.slug pk=record.id %}"
                hx-target="#modal-content"
                hx-trigger="click"
                onclick="document.querySelector('#expDetailsModal').showModal();">
            View Details
        </button>
    {% endif %}
</div>

{% block modal %}
    <dialog id="expDetailsModal" class="modal">
        <div class="modal-box">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2" aria-label="Close">âœ•</button>
            </form>
            <div id="modal-content"></div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>Close</button>
        </form>
    </dialog>
{% endblock %}
