<button @click.stop="" class="btn btn-sm join-item {{ button_style|default:"btn-ghost" }}" {% if disabled %}disabled="disabled"{% endif %}
        id="action-{{ action_id }}"
        title="{{ title }}"
        hx-{{ hx_method|lower }}="{{ action_url }}"
        hx-target="#record-{{ record.id }}"
        hx-swap="outerHTML"

        {% if confirm_message %}
          hx-trigger="confirmed"
          onClick="alertify.confirm().setting({
                   title: 'Confirm',
                   message: '{{ confirm_message|escapejs }}',
                   transition: 'fade',
                   onok: function() {
                   htmx.trigger('#action-{{ action_id }}', 'confirmed');
                   },
                   }).show();
                  "
        {% endif %}
>
  <i class="{{ icon_class }} htmx-hide"></i>
  <span class="loading loading-spinner loading-xs htmx-show"></span>
</button>
<script>
  document.body.addEventListener('htmx:responseError', function(evt) {
    alertify
      .alert(evt.detail.xhr.responseText, function(){
        alertify.message('OK');
      }).setting({
        title: 'Error',
        transition: 'fade',
        onok: function() {},
      }).show();
    ;

  });
</script>
